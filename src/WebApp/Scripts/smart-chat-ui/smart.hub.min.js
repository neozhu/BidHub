function ShowNewMessageAlert(){var n=$("li.chat-users > a > i");$(n).append('<em class="bg-color-pink flash animated">!<\/em>')}function HideNewMessageAlert(){var n=$("li.chat-users > a > i > em");n.length>0&&$(n).remove()}function registerEvents(n){n.server.connect();$("#btnClearChat").click(function(){var t=$("#chat-body > ul").html();t.length>0&&(n.server.clearTimeout(),$("#chat-body > ul").animateCss("slideOutRight",function(){$("#chat-body > ul > li").remove()}))});$("#btnSendMsg").click(function(){var t=$("#textarea-expand").val();if(t.length>0){var i=$("#currentuser").val(),r=$("#show-shortcut").text(),u=GetCurrentDateTime(new Date),f=$("#show-shortcut").find("img").attr("src");n.server.sendMessageToAll(i,r,t,u,f);$("#textarea-expand").val("")}});$("#textarea-expand").keypress(function(n){if(n.which==13&&$("#subscription").prop("checked"))return $("#btnSendMsg").click(),n.preventDefault(),!1})}function registerClientMethods(n){n.client.onConnected=function(t,r,u,f,e){for($("#hdId").val(t),i=0;i<f.length;i++)$(".chat-users").length&&AddUser(n,f[i].ConnectionId,f[i].UserName,f[i].FullName,f[i].UserImage,f[i].LoginTime);for(i=0;i<e.length;i++)$("#chat-body").length&&AddMessage(e[i].UserName,e[i].FullName,e[i].Message,e[i].Time,e[i].UserImage)};n.client.onNewUserConnected=function(t,i,r,u,f){$(".chat-users").length&&AddUser(n,t,i,r,u,f)};n.client.onUserDisconnected=function(n){var t=$(".display-users dl").find('a[data-chat-id="'+n+'"]').parent();$(t).animate({opacity:"0"},200,function(){$(t).animate({height:"0px"},300,function(){$(t).remove()})})};n.client.messageReceived=function(n,t,i,r,u){var f,e;AddMessage(n,t,i,r,u);f=$("#currentuser").val();f!==n&&(e=Math.round(moment().diff(moment(r,"YYYY-MM-DD HH:mm:ss"))/1e3))};n.client.sendPrivateMessage=function(n,t,i,r,u,f,e){$(document).trigger("receivingprivatemessage",[{fromUserId:n,fromUserName:t,toUserId:i,toUserName:r,message:u,UserImg:f,CurrentDateTime:e}])}}function GetCurrentDateTime(n){return moment(n).format("HH:mm")}function AddUser(n,t,i,r,u){var c=$("#hdId").val(),h=$("#currentuser").val(),o=$(".display-users dl"),s=i,e="ME",f;i==h?(f=$('<dt class="animated fadeIn">  <a href="#" class="usr"     data-chat-id="'+t+'"     data-chat-fname="'+r+'"     data-chat-lname=" "     data-chat-status="online"     data-chat-alertmsg=" "     data-chat-alertshow="false"     rel="popover-hover"     data-placement="right"     data-html="true"     data-content="            <div class=\'usr-card\'>              <img src=\''+u+"' alt='"+e+"'>             <div class='usr-card-content'>             <h3>"+e+"<\/h3 >              <p>"+s+'<\/p>             <\/div>             <\/div>"             >         <i><\/i>'+e+"         <\/a>     <\/dt>     "),$(o).prepend(f)):(f=$('<dt class="animated fadeIn">  <a href="#" class="usr"     data-chat-id="'+t+'"     data-chat-fname="'+r+'"     data-chat-lname=" "     data-chat-status="online"     data-chat-alertmsg=" "     data-chat-alertshow="false"     rel="popover-hover"     data-placement="right"     data-html="true"     data-content="            <div class=\'usr-card\'>              <img src=\''+u+"' alt='"+r+"'>             <div class='usr-card-content'>             <h3>"+r+"<\/h3 >              <p>"+s+'<\/p>             <\/div>             <\/div>"             >         <i><\/i>'+r+"         <\/a>     <\/dt>     "),$(o).append(f),$("a[data-chat-id='"+t+"']:not(.offline)").click(function(n){var t=$(this),i=t.attr("data-chat-id"),r=t.attr("data-chat-fname"),u=t.attr("data-chat-lname"),f=t.attr("data-chat-status")||"online",e=t.attr("data-chat-alertmsg"),o=t.attr("data-chat-alertshow")||!1,s=$("#hdId").val();chatboxManager.addBox(i,{id:i,fromid:s,title:"username"+i,first_name:r,last_name:u,status:f,alertmsg:e,alertshow:o});n.preventDefault()}));$("a[rel=popover-hover]").popover({placement:"right",trigger:"hover"})}function AddMessage(n,t,i,r,u){var o=$("#currentuser").val(),s="right",h="left",f,e;o===n&&(s="left",h="right");f='<li class="message" ><img   src="'+u+'" class="online" alt=""><div class="message-text"><time>'+r+'<\/time><a href="javascript:void(0);" class="username">'+t+"<\/a > "+i+"<\/div><\/li>";$("#chat-body > ul").append(f);e=$("#chat-body")[0].scrollHeight;$("#chat-body").slimScroll({scrollTo:e})}function ParseEmoji(n){$(n).emoticonize()}function uploadComplete(n,t){var i=$get("imgDisplay"),r;i.src="images/loading.gif";i.style.cssText="";r=new Image;r.onload=function(){i.style.cssText="Display:none;";i.src=r.src};i.src="<%# ResolveUrl(UploadFolderPath) %>"+t.get_fileName();var e=$.connection.chatHub,o=$("#currentuser").val(),s=GetCurrentDateTime(new Date),u=(t.get_length()/1024).toFixed(2),f;IsValidateFile(t.get_fileName())&&(f=IsImageFile(t.get_fileName())?'<div class="box-body"><div class="attachment-block clearfix"><a><img id="imgC" style="width:100px;" class="attachment-img" src="'+i.src+'" alt="Attachment Image"><\/a><div class="attachment-pushed"> <h4 class="attachment-heading"><i class="fa fa-image">  '+t.get_fileName()+' <\/i><\/h4> <br /><div id="at" class="attachment-text"> Dimensions : '+i.height+"x"+i.width+", Type: "+t.get_contentType()+'<\/div><\/div><\/div><a id="btnDownload" href="'+i.src+'" class="btn btn-default btn-xs" download="'+t.get_fileName()+'"><i class="fa fa fa-download"><\/i> Download<\/a><button type="button" id="ShowModelImg"  value="'+i.src+'"  class="btn btn-default btn-xs"><i class="fa fa-camera"><\/i> View<\/button><span class="pull-right text-muted">File Size : '+u+" Kb<\/span><\/div>":'<div class="box-body"><div class="attachment-block clearfix"><a><img id="imgC" style="width:100px;" class="attachment-img" src="images/file-icon.png" alt="Attachment Image"><\/a><div class="attachment-pushed"> <h4 class="attachment-heading"><i class="fa fa-file-o">  '+t.get_fileName()+' <\/i><\/h4> <br /><div id="at" class="attachment-text"> Type: '+t.get_contentType()+'<\/div><\/div><\/div><a id="btnDownload" href="'+i.src+'" class="btn btn-default btn-xs" download="'+t.get_fileName()+'"><i class="fa fa fa-download"><\/i> Download<\/a><a href="'+i.src+'" target="_blank" class="btn btn-default btn-xs"><i class="fa fa-camera"><\/i> View<\/a><span class="pull-right text-muted">File Size : '+u+" Kb<\/span><\/div>",e.server.sendMessageToAll(o,f,s));i.src=""}function uploadStarted(){$get("imgDisplay").style.display="none"}function IsValidateFile(n){var t=[".doc",".docx",".pdf",".txt",".xlsx",".xls",".png",".jpg",".gif"],i=new RegExp("([a-zA-Z0-9s_\\.-:])+("+t.join("|")+")$");return i.test(n.toLowerCase())?!0:(alert("Please upload files having extensions: "+t.join(", ")+" only."),!1)}function IsImageFile(n){var t=new RegExp("(.png|.jpg|.gif)$");return t.test(n.toLowerCase())?!0:!1}function registerNotifyClientMethods(n){n.client.broadcastChanged=function(){n.server.getNotification()};n.client.broadcastNotif=function(n){$this=$("#activity > .badge");const t=parseInt($this.text().trim());t!==n&&(n>0?($this.addClass("bg-color-red bounceIn animated"),$this.text(n)):($this.removeClassPrefix("bg-color-"),$this.text("0")),loadnotifdata());$this=null}}function registerNotifyEvent(n){n.server.connect()}function loadnotifdata(){const u=$("#currentuser").val(),f=`/Notifications/GetNotifyData?userName=${u}`;let n=0,t=0,i=0,r=0;$.get(f).done(u=>{if(u.data){$this=$(".ajax-notifications").find('ul[class="notification-body"]');$this.empty();u.data.forEach(u=>{switch(u.Group){case 0:n+=1;break;case 1:t+=1;break;case 2:i+=1;break;case 3:r+=1}const f=faiconformat(u.Group),e=fromformat(u.Group,u.From),o=timeago.format(moment(u.Created).format("YYYY-MM-DD HH:mm:ss"),"zh_CN"),s=`<li>
                       <span class="unread">
                         <a href="javascript:void(0);" class="msg">
                           <em class="air air-top-left margin-top-5" width="40" height="40">
                             <i class="fa ${f} fa-fw fa-2x"></i>
                           </em>
                            <span class="from">${e} <i class="icon-paperclip"></i></span>
                  <time>${o}</time>
                  <span class="subject">${u.Content}</span>
                         </a>
                       </span>
                      </li>`;$this.append(s)});const f=$('.ajax-dropdown > .btn-group-justified[data-toggle="buttons"] > label');$(f[0]).contents().last()[0].textContent=`系统推送(${n}) `;$(f[1]).contents().last()[0].textContent=`业务推送(${t}) `;$(f[2]).contents().last()[0].textContent=`接口推送(${i}) `;$(f[3]).contents().last()[0].textContent=`人工推送(${r}) `}})}function faiconformat(n){switch(n){case 0:return"fa-windows";case 1:return"fa-bell-o";case 2:return"fa-plug";case 3:return"fa-user";default:return"fa-bolt"}}function fromformat(n,t){switch(n){case 0:return"系统推送";case 1:return"业务推送";case 2:return"接口推送";case 3:return t;default:return"fa-bolt"}}var IntervalVal,chatboxManager;!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.timeago={})}(this,function(n){"use strict";function f(n){return parseInt(n)}function e(n){return n instanceof Date?n:!isNaN(n)||/^\d+$/.test(n)?new Date(f(n)):(n=(n||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n))}function o(n,i){for(var r=0,u=n<0?1:0,e=n=Math.abs(n);t[r]<=n&&r<t.length;r++)n/=t[r];return(0==(r*=2)?9:1)<(n=f(n))&&(r+=1),i(n,r,e)[u].replace("%s",n)}function s(n,t){return((t=t?e(t):new Date)-e(n))/1e3}function h(n,t){if(0===t)return["just now","right now"];var i=p[parseInt(t/2)];return 1<n&&(i+="s"),["".concat(n," ").concat(i," ago"),"in ".concat(n," ").concat(i)]}function c(n){return y[n]||h}function l(n,t){return n.getAttribute?n.getAttribute(t):n.attr?n.attr(t):void 0}function a(n){return l(n,r)}function i(n){clearTimeout(n);delete u[n]}function v(n,f,e,h){var c,l;i(a(n));c=s(f,h);n.innerText=o(c,e);l=setTimeout(function(){v(n,f,e,h)},1e3*function(n){for(var r=1,i=0,u=Math.abs(n);t[i]<=n&&i<t.length;i++)n/=t[i],r*=t[i];return u=(u%=r)?r-u:r,Math.ceil(u)}(c),2147483647);u[l]=0,function(n,t){n.setAttribute?n.setAttribute(r,t):n.attr&&n.attr(r,t)}(n,l)}var t=[60,60,24,7,365/84,12],p="second_minute_hour_day_week_month_year".split("_"),w="秒_分钟_小时_天_周_个月_年".split("_"),y={en_US:h,zh_CN:function(n,t){if(0===t)return["刚刚","片刻后"];var i=w[parseInt(t/2)];return["".concat(n," ").concat(i,"前"),"".concat(n," ").concat(i,"后")]}},r="timeago-tid",u={};n.version="4.0.0-beta.2";n.format=function(n,t,i){var r=s(n,i);return o(r,c(t))};n.render=function(n,t,i){var u,r,f,e;for(void 0===n.length&&(n=[n]),r=0;r<n.length;r++)u=n[r],f=l(u,"datetime"),e=c(t),v(u,f,e,i);return n};n.cancel=function(n){if(n)i(a(n));else for(var t in u)i(t)};n.register=function(n,t){y[n]=t};Object.defineProperty(n,"__esModule",{value:!0})});!function(){"use strict";function n(n,t,i,r,u){var e=u%10,f=r;return 1===u?f=n:1==e&&20<u?f=t:1<e&&e<5&&(20<u||u<10)&&(f=i),f}function a(n){var t=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return n.toString().replace(/\d/g,function(n){return t[n]})}function t(n,t,i,r,u){var e=u%10,f=r;return 1===u?f=n:1==e&&20<u?f=t:1<e&&e<5&&(20<u||u<10)&&(f=i),f}function i(n,t,i,r,u){var f=u%10,e=u%100;return 1==u?n:1==f&&11!=e?t:2<=f&&f<=4&&!(12<=e&&e<=14)?i:r}function r(n,t,i,r,u){var e=u%10,f=r;return 1===u?f=n:1==e&&20<u?f=t:1<e&&e<5&&(20<u||u<10)&&(f=i),f}var u=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]],f=n.bind(null,"секунду","%s секунду","%s секунды","%s секунд"),e=n.bind(null,"хвіліну","%s хвіліну","%s хвіліны","%s хвілін"),o=n.bind(null,"гадзіну","%s гадзіну","%s гадзіны","%s гадзін"),s=n.bind(null,"дзень","%s дзень","%s дні","%s дзён"),h=n.bind(null,"тыдзень","%s тыдзень","%s тыдні","%s тыдняў"),c=n.bind(null,"месяц","%s месяц","%s месяцы","%s месяцаў"),l=n.bind(null,"год","%s год","%s гады","%s гадоў"),pt=[["w tej chwili","za chwilę"],["%s sekund temu","za %s sekund"],["1 minutę temu","za 1 minutę"],["%s minut temu","za %s minut"],["1 godzinę temu","za 1 godzinę"],["%s godzin temu","za %s godzin"],["1 dzień temu","za 1 dzień"],["%s dni temu","za %s dni"],["1 tydzień temu","za 1 tydzień"],["%s tygodni temu","za %s tygodni"],["1 miesiąc temu","za 1 miesiąc"],["%s miesięcy temu","za %s miesięcy"],["1 rok temu","za 1 rok"],["%s lat temu","za %s lat"],["%s sekundy temu","za %s sekundy"],["%s minuty temu","za %s minuty"],["%s godziny temu","za %s godziny"],["%s dni temu","za %s dni"],["%s tygodnie temu","za %s tygodnie"],["%s miesiące temu","za %s miesiące"],["%s lata temu","za %s lata"]],v=t.bind(null,"секунду","%s секунду","%s секунды","%s секунд"),y=t.bind(null,"минуту","%s минуту","%s минуты","%s минут"),p=t.bind(null,"час","%s час","%s часа","%s часов"),w=t.bind(null,"день","%s день","%s дня","%s дней"),b=t.bind(null,"неделю","%s неделю","%s недели","%s недель"),k=t.bind(null,"месяц","%s месяц","%s месяца","%s месяцев"),d=t.bind(null,"год","%s год","%s года","%s лет"),g=i.bind(null,"1 секунд","%s секунд","%s секунде","%s секунди"),nt=i.bind(null,"1 минут","%s минут","%s минуте","%s минута"),tt=i.bind(null,"сат времена","%s сат","%s сата","%s сати"),it=i.bind(null,"1 дан","%s дан","%s дана","%s дана"),rt=i.bind(null,"недељу дана","%s недељу","%s недеље","%s недеља"),ut=i.bind(null,"месец дана","%s месец","%s месеца","%s месеци"),ft=i.bind(null,"годину дана","%s годину","%s године","%s година"),et=r.bind(null,"секунду","%s секунду","%s секунди","%s секунд"),ot=r.bind(null,"хвилину","%s хвилину","%s хвилини","%s хвилин"),st=r.bind(null,"годину","%s годину","%s години","%s годин"),ht=r.bind(null,"день","%s день","%s дні","%s днів"),ct=r.bind(null,"тиждень","%s тиждень","%s тиждні","%s тижднів"),lt=r.bind(null,"місяць","%s місяць","%s місяці","%s місяців"),at=r.bind(null,"рік","%s рік","%s роки","%s років"),vt=Object.freeze({ar:function(n,t){if(0===t)return["منذ لحظات","بعد لحظات"];var i=function(n,t){return t<3?u[n][t-1]:3<=t&&t<=10?u[n][2]:u[n][3]}(Math.floor(t/2),n);return["منذ "+i,"بعد "+i]},be:function(n,t){switch(t){case 0:return["толькі што","праз некалькі секунд"];case 1:return[f(n)+" таму","праз "+f(n)];case 2:case 3:return[e(n)+" таму","праз "+e(n)];case 4:case 5:return[o(n)+" таму","праз "+o(n)];case 6:case 7:return[s(n)+" таму","праз "+s(n)];case 8:case 9:return[h(n)+" таму","праз "+h(n)];case 10:case 11:return[c(n)+" таму","праз "+c(n)];case 12:case 13:return[l(n)+" таму","праз "+l(n)];default:return["",""]}},bg:function(n,t){return[["току що","съвсем скоро"],["преди %s секунди","след %s секунди"],["преди 1 минута","след 1 минута"],["преди %s минути","след %s минути"],["преди 1 час","след 1 час"],["преди %s часа","след %s часа"],["преди 1 ден","след 1 ден"],["преди %s дни","след %s дни"],["преди 1 седмица","след 1 седмица"],["преди %s седмици","след %s седмици"],["преди 1 месец","след 1 месец"],["преди %s месеца","след %s месеца"],["преди 1 година","след 1 година"],["преди %s години","след %s години"]][t]},bn_IN:function(n,t){return[["এইমাত্র","একটা সময়"],["%s সেকেন্ড আগে","%s এর সেকেন্ডের মধ্যে"],["1 মিনিট আগে","1 মিনিটে"],["%s এর মিনিট আগে","%s এর মিনিটের মধ্যে"],["1 ঘন্টা আগে","1 ঘন্টা"],["%s ঘণ্টা আগে","%s এর ঘন্টার মধ্যে"],["1 দিন আগে","1 দিনের মধ্যে"],["%s এর দিন আগে","%s এর দিন"],["1 সপ্তাহ আগে","1 সপ্তাহের মধ্যে"],["%s এর সপ্তাহ আগে","%s সপ্তাহের মধ্যে"],["1 মাস আগে","1 মাসে"],["%s মাস আগে","%s মাসে"],["1 বছর আগে","1 বছরের মধ্যে"],["%s বছর আগে","%s বছরে"]][t]},ca:function(n,t){return[["fa un moment","d'aquí un moment"],["fa %s segons","d'aquí %s segons"],["fa 1 minut","d'aquí 1 minut"],["fa %s minuts","d'aquí %s minuts"],["fa 1 hora","d'aquí 1 hora"],["fa %s hores","d'aquí %s hores"],["fa 1 dia","d'aquí 1 dia"],["fa %s dies","d'aquí %s dies"],["fa 1 setmana","d'aquí 1 setmana"],["fa %s setmanes","d'aquí %s setmanes"],["fa 1 mes","d'aquí 1 mes"],["fa %s mesos","d'aquí %s mesos"],["fa 1 any","d'aquí 1 any"],["fa %s anys","d'aquí %s anys"]][t]},de:function(n,t){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][t]},el:function(n,t){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][t]},en_short:function(n,t){return[["just now","right now"],["%ss ago","in %ss"],["1m ago","in 1m"],["%sm ago","in %sm"],["1h ago","in 1h"],["%sh ago","in %sh"],["1d ago","in 1d"],["%sd ago","in %sd"],["1w ago","in 1w"],["%sw ago","in %sw"],["1mo ago","in 1mo"],["%smo ago","in %smo"],["1yr ago","in 1yr"],["%syr ago","in %syr"]][t]},es:function(n,t){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][t]},eu:function(n,t){return[["orain","denbora bat barru"],["duela %s segundu","%s segundu barru"],["duela minutu 1","minutu 1 barru"],["duela %s minutu","%s minutu barru"],["duela ordu 1","ordu 1 barru"],["duela %s ordu","%s ordu barru"],["duela egun 1","egun 1 barru"],["duela %s egun","%s egun barru"],["duela aste 1","aste 1 barru"],["duela %s aste","%s aste barru"],["duela hillabete 1","hillabete 1 barru"],["duela %s hillabete","%s hillabete barru"],["duela urte 1","urte 1 barru"],["duela %s urte","%s urte barru"]][t]},fa:function(n,t){var i=[["لحظاتی پیش","همین حالا"],["%s ثانیه پیش","%s ثانیه دیگر"],["۱ دقیقه پیش","۱ دقیقه دیگر"],["%s دقیقه پیش","%s دقیقه دیگر"],["۱ ساعت پیش","۱ ساعت دیگر"],["%s ساعت پیش","%s ساعت دیگر"],["۱ روز پیش","۱ روز دیگر"],["%s روز پیش","%s روز دیگر"],["۱ هفته پیش","۱ هفته دیگر"],["%s هفته پیش","%s هفته دیگر"],["۱ ماه پیش","۱ ماه دیگر"],["%s ماه پیش","%s ماه دیگر"],["۱ سال پیش","۱ سال دیگر"],["%s سال پیش","%s سال دیگر"]][t];return[i[0].replace("%s",a(n)),i[1].replace("%s",a(n))]},fi:function(n,t){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][t]},fr:function(n,t){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][t]},gl:function(n,t){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][t]},he:function(n,t){return[["זה עתה","עכשיו"],["לפני %s שניות","בעוד %s שניות"],["לפני דקה","בעוד דקה"],["לפני %s דקות","בעוד %s דקות"],["לפני שעה","בעוד שעה"],2===n?["לפני שעתיים","בעוד שעתיים"]:["לפני %s שעות","בעוד %s שעות"],["אתמול","מחר"],2===n?["לפני יומיים","בעוד יומיים"]:["לפני %s ימים","בעוד %s ימים"],["לפני שבוע","בעוד שבוע"],2===n?["לפני שבועיים","בעוד שבועיים"]:["לפני %s שבועות","בעוד %s שבועות"],["לפני חודש","בעוד חודש"],2===n?["לפני חודשיים","בעוד חודשיים"]:["לפני %s חודשים","בעוד %s חודשים"],["לפני שנה","בעוד שנה"],2===n?["לפני שנתיים","בעוד שנתיים"]:["לפני %s שנים","בעוד %s שנים"]][t]},hi_IN:function(n,t){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][t]},hu:function(n,t){return[["éppen most","éppen most"],["%s másodperce","%s másodpercen belül"],["1 perce","1 percen belül"],["%s perce","%s percen belül"],["1 órája","1 órán belül"],["%s órája","%s órán belül"],["1 napja","1 napon belül"],["%s napja","%s napon belül"],["1 hete","1 héten belül"],["%s hete","%s héten belül"],["1 hónapja","1 hónapon belül"],["%s hónapja","%s hónapon belül"],["1 éve","1 éven belül"],["%s éve","%s éven belül"]][t]},id_ID:function(n,t){return[["baru saja","sebentar"],["%s detik yang lalu","dalam %s detik"],["1 menit yang lalu","dalam 1 menit"],["%s menit yang lalu","dalam %s menit"],["1 jam yang lalu","dalam 1 jam"],["%s jam yang lalu","dalam %s jam"],["1 hari yang lalu","dalam 1 hari"],["%s hari yang lalu","dalam %s hari"],["1 minggu yang lalu","dalam 1 minggu"],["%s minggu yang lalu","dalam %s minggu"],["1 bulan yang lalu","dalam 1 bulan"],["%s bulan yang lalu","dalam %s bulan"],["1 tahun yang lalu","dalam 1 tahun"],["%s tahun yang lalu","dalam %s tahun"]][t]},it:function(n,t){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][t]},ja:function(n,t){return[["すこし前","すぐに"],["%s秒前","%s秒以内"],["1分前","1分以内"],["%s分前","%s分以内"],["1時間前","1時間以内"],["%s時間前","%s時間以内"],["1日前","1日以内"],["%s日前","%s日以内"],["1週間前","1週間以内"],["%s週間前","%s週間以内"],["1ヶ月前","1ヶ月以内"],["%sヶ月前","%sヶ月以内"],["1年前","1年以内"],["%s年前","%s年以内"]][t]},ko:function(n,t){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][t]},ml:function(n,t){return[["ഇപ്പോള്‍","കുറച്ചു മുന്‍പ്"],["%s സെക്കന്റ്‌കള്‍ക്ക് മുന്‍പ്","%s സെക്കന്റില്‍"],["1 മിനിറ്റിനു മുന്‍പ്","1 മിനിറ്റില്‍"],["%s മിനിറ്റുകള്‍ക്ക് മുന്‍പ","%s മിനിറ്റില്‍"],["1 മണിക്കൂറിനു മുന്‍പ്","1 മണിക്കൂറില്‍"],["%s മണിക്കൂറുകള്‍ക്കു മുന്‍പ്","%s മണിക്കൂറില്‍"],["1 ഒരു ദിവസം മുന്‍പ്","1 ദിവസത്തില്‍"],["%s ദിവസങ്ങള്‍ക് മുന്‍പ്","%s ദിവസങ്ങള്‍ക്കുള്ളില്‍"],["1 ആഴ്ച മുന്‍പ്","1 ആഴ്ചയില്‍"],["%s ആഴ്ചകള്‍ക്ക് മുന്‍പ്","%s ആഴ്ചകള്‍ക്കുള്ളില്‍"],["1 മാസത്തിനു മുന്‍പ്","1 മാസത്തിനുള്ളില്‍"],["%s മാസങ്ങള്‍ക്ക് മുന്‍പ്","%s മാസങ്ങള്‍ക്കുള്ളില്‍"],["1 വര്‍ഷത്തിനു  മുന്‍പ്","1 വര്‍ഷത്തിനുള്ളില്‍"],["%s വര്‍ഷങ്ങള്‍ക്കു മുന്‍പ്","%s വര്‍ഷങ്ങള്‍ക്കുല്ല്ളില്‍"]][t]},my:function(n,t){return[["ယခုအတွင်း","ယခု"],["%s စက္ကန့် အကြာက","%s စက္ကန့်အတွင်း"],["1 မိနစ် အကြာက","1 မိနစ်အတွင်း"],["%s မိနစ် အကြာက","%s မိနစ်အတွင်း"],["1 နာရီ အကြာက","1 နာရီအတွင်း"],["%s နာရီ အကြာက","%s နာရီအတွင်း"],["1 ရက် အကြာက","1 ရက်အတွင်း"],["%s ရက် အကြာက","%s ရက်အတွင်း"],["1 ပတ် အကြာက","1 ပတ်အတွင်း"],["%s ပတ် အကြာက","%s ပတ်အတွင်း"],["1 လ အကြာက","1 လအတွင်း"],["%s လ အကြာက","%s လအတွင်း"],["1 နှစ် အကြာက","1 နှစ်အတွင်း"],["%s နှစ် အကြာက","%s နှစ်အတွင်း"]][t]},nb_NO:function(n,t){return[["akkurat nå","om litt"],["%s sekunder siden","om %s sekunder"],["1 minutt siden","om 1 minutt"],["%s minutter siden","om %s minutter"],["1 time siden","om 1 time"],["%s timer siden","om %s timer"],["1 dag siden","om 1 dag"],["%s dager siden","om %s dager"],["1 uke siden","om 1 uke"],["%s uker siden","om %s uker"],["1 måned siden","om 1 måned"],["%s måneder siden","om %s måneder"],["1 år siden","om 1 år"],["%s år siden","om %s år"]][t]},nl:function(n,t){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][t]},nn_NO:function(n,t){return[["nett no","om litt"],["%s sekund sidan","om %s sekund"],["1 minutt sidan","om 1 minutt"],["%s minutt sidan","om %s minutt"],["1 time sidan","om 1 time"],["%s timar sidan","om %s timar"],["1 dag sidan","om 1 dag"],["%s dagar sidan","om %s dagar"],["1 veke sidan","om 1 veke"],["%s veker sidan","om %s veker"],["1 månad sidan","om 1 månad"],["%s månadar sidan","om %s månadar"],["1 år sidan","om 1 år"],["%s år sidan","om %s år"]][t]},pl:function(n,t){return pt[1&t?4<n%10||n%10<2||1==~~(n/10)%10?t:++t/2+13:t]},pt_BR:function(n,t){return[["agora mesmo","daqui um pouco"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][t]},ro:function(n,t){var i=[["chiar acum","chiar acum"],["acum %s secunde","peste %s secunde"],["acum un minut","peste un minut"],["acum %s minute","peste %s minute"],["acum o oră","peste o oră"],["acum %s ore","peste %s ore"],["acum o zi","peste o zi"],["acum %s zile","peste %s zile"],["acum o săptămână","peste o săptămână"],["acum %s săptămâni","peste %s săptămâni"],["acum o lună","peste o lună"],["acum %s luni","peste %s luni"],["acum un an","peste un an"],["acum %s ani","peste %s ani"]];return n<20?i[t]:[i[t][0].replace("%s","%s de"),i[t][1].replace("%s","%s de")]},ru:function(n,t){switch(t){case 0:return["только что","через несколько секунд"];case 1:return[v(n)+" назад","через "+v(n)];case 2:case 3:return[y(n)+" назад","через "+y(n)];case 4:case 5:return[p(n)+" назад","через "+p(n)];case 6:return["вчера","завтра"];case 7:return[w(n)+" назад","через "+w(n)];case 8:case 9:return[b(n)+" назад","через "+b(n)];case 10:case 11:return[k(n)+" назад","через "+k(n)];case 12:case 13:return[d(n)+" назад","через "+d(n)];default:return["",""]}},sq:function(n,t){return[["pak më parë","pas pak"],["para %s sekondash","pas %s sekondash"],["para një minute","pas një minute"],["para %s minutash","pas %s minutash"],["para një ore","pas një ore"],["para %s orësh","pas %s orësh"],["dje","nesër"],["para %s ditësh","pas %s ditësh"],["para një jave","pas një jave"],["para %s javësh","pas %s javësh"],["para një muaji","pas një muaji"],["para %s muajsh","pas %s muajsh"],["para një viti","pas një viti"],["para %s vjetësh","pas %s vjetësh"]][t]},sr:function(n,t){switch(t){case 0:return["малопре","управо сад"];case 1:return["пре "+g(n),"за "+g(n)];case 2:case 3:return["пре "+nt(n),"за "+nt(n)];case 4:case 5:return["пре "+tt(n),"за "+tt(n)];case 6:case 7:return["пре "+it(n),"за "+it(n)];case 8:case 9:return["пре "+rt(n),"за "+rt(n)];case 10:case 11:return["пре "+ut(n),"за "+ut(n)];case 12:case 13:return["пре "+ft(n),"за "+ft(n)];default:return["",""]}},sv:function(n,t){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][t]},ta:function(n,t){return[["இப்போது","சற்று நேரம் முன்பு"],["%s நொடிக்கு முன்","%s நொடிகளில்"],["1 நிமிடத்திற்க்கு முன்","1 நிமிடத்தில்"],["%s நிமிடத்திற்க்கு முன்","%s நிமிடங்களில்"],["1 மணி நேரத்திற்கு முன்","1 மணி நேரத்திற்குள்"],["%s மணி நேரத்திற்கு முன்","%s மணி நேரத்திற்குள்"],["1 நாளுக்கு முன்","1 நாளில்"],["%s நாட்களுக்கு முன்","%s நாட்களில்"],["1 வாரத்திற்கு முன்","1 வாரத்தில்"],["%s வாரங்களுக்கு முன்","%s வாரங்களில்"],["1 மாதத்திற்கு முன்","1 மாதத்தில்"],["%s மாதங்களுக்கு முன்","%s மாதங்களில்"],["1 வருடத்திற்கு முன்","1 வருடத்தில்"],["%s வருடங்களுக்கு முன்","%s வருடங்களில்"]][t]},th:function(n,t){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][t]},tr:function(n,t){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][t]},uk:function(n,t){switch(t){case 0:return["щойно","через декілька секунд"];case 1:return[et(n)+" тому","через "+et(n)];case 2:case 3:return[ot(n)+" тому","через "+ot(n)];case 4:case 5:return[st(n)+" тому","через "+st(n)];case 6:case 7:return[ht(n)+" тому","через "+ht(n)];case 8:case 9:return[ct(n)+" тому","через "+ct(n)];case 10:case 11:return[lt(n)+" тому","через "+lt(n)];case 12:case 13:return[at(n)+" тому","через "+at(n)];default:return["",""]}},vi:function(n,t){return[["vừa xong","một lúc"],["%s giây trước","trong %s giây"],["1 phút trước","trong 1 phút"],["%s phút trước","trong %s phút"],["1 giờ trước","trong 1 giờ"],["%s giờ trước","trong %s giờ"],["1 ngày trước","trong 1 ngày"],["%s ngày trước","trong %s ngày"],["1 tuần trước","trong 1 tuần"],["%s tuần trước","trong %s tuần"],["1 tháng trước","trong 1 tháng"],["%s tháng trước","trong %s tháng"],["1 năm trước","trong 1 năm"],["%s năm trước","trong %s năm"]][t]},zh_CN:function(n,t){return[["刚刚","片刻后"],["%s 秒前","%s 秒后"],["1 分钟前","1 分钟后"],["%s 分钟前","%s 分钟后"],["1 小时前","1 小时后"],["%s 小时前","%s 小时后"],["1 天前","1 天后"],["%s 天前","%s 天后"],["1 周前","1 周后"],["%s 周前","%s 周后"],["1 个月前","1 个月后"],["%s 个月前","%s 个月后"],["1 年前","1 年后"],["%s 年前","%s 年后"]][t]},zh_TW:function(n,t){return[["剛剛","片刻後"],["%s 秒前","%s 秒後"],["1 分鐘前","1 分鐘後"],["%s 分鐘前","%s 分鐘後"],["1 小時前","1 小時後"],["%s 小時前","%s 小時後"],["1 天前","1 天後"],["%s 天前","%s 天後"],["1 週前","1 週後"],["%s 週前","%s 週後"],["1 個月前","1 個月後"],["%s 個月前","%s 個月後"],["1 年前","1 年後"],["%s 年前","%s 年後"]][t]}});for(var yt in vt)timeago.register(yt,vt[yt])}();$(function(){var n=$.connection.chatHub,t=$.connection.notificationHub;registerClientMethods(n);registerNotifyClientMethods(t);$.connection.hub&&$.connection.hub.state===$.signalR.connectionState.disconnected&&$.connection.hub.start().done(function(){registerEvents(n);registerNotifyEvent(t)}).fail(function(){console.error("Could not Connect!")});$(document).on("change","#uploadfilebutton",function(n){var t=URL.createObjectURL(n.target.files[0]);$("#ImgDisp").attr("src",t)});$(document).on("dispatchprivatemessage",function(t,i,r,u){n.server.sendPrivateMessage(i,u)})});$(document).on("click","#ShowModelImg",function(){$get("ImgModal").src=this.value;$("#ShowPictureModal").modal("show")});chatboxManager=function(){function e(){var n=$("li.chat-users > a > i");$(n).append('<em class="bg-color-pink flash animated">!<\/em>')}function o(){var n=$("li.chat-users > a > i > em");n.length>0&&$(n).remove()}var r=function(n){$.extend(chatbox_config,n)},u=function(){},n=function(){return(chatbox_config.width+chatbox_config.gap)*showList.length},f=function(n){var i=showList.indexOf(n),t;if(i!=-1)for(showList.splice(i,1),diff=chatbox_config.width+chatbox_config.gap,t=i;t<showList.length;t++)offset=$("#"+showList[t]).chatbox("option","offset"),$("#"+showList[t]).chatbox("option","offset",offset-diff);else alert("NOTE: Id missing from array: "+n)},t=function(t,r){var o=showList.indexOf(t),s=boxList.indexOf(t),e,u;o!=-1||(s!=-1?($("#"+t).chatbox("option","offset",n()),e=$("#"+t).chatbox("option","boxManager"),e.toggleBox(),showList.push(t)):(u=document.createElement("div"),u.setAttribute("id",t),$(u).chatbox({id:t,fromid:r.fromid,user:r,title:'<i title="'+r.status+'"><\/i>'+r.first_name+" "+r.last_name,hidden:!1,offset:n(),width:chatbox_config.width,status:r.status,alertmsg:r.alertmsg,alertshow:r.alertshow,messageSent:i,boxClosed:f}),boxList.push(t),showList.push(t),nameList.push(r.first_name)))},s=function(n,t,i,r){var u=boxList.indexOf(n);chatbox_config.messageSent(nameList[u],i,r)},i=function(n,t,i){var r=$("#hdId").val(),u=$("#currentuser").val(),f={id:r,username:u};$("#"+n).chatbox("option","boxManager").addMsg("Me",i);$(document).trigger("dispatchprivatemessage",[n,t,i]);o()};$(document).on("receivingprivatemessage",function(n,i){var r=$("#hdId").val(),u=$("#currentuser").val();r!=i.fromUserId&&(t(i.fromUserId,{id:i.fromUserId,fromid:i.toUserId,title:"username"+i.fromUserId,first_name:i.fromUserName,last_name:"",status:"online",alertmsg:"",alertshow:!1}),e(),$("#"+i.fromUserId).chatbox("option","boxManager").addMsg(i.fromUserName,i.message))});return{init:r,addBox:t,delBox:u,dispatch:i}}();$("a[data-chat-id]:not(.offline)").click(function(n){var t=$(this),i=t.attr("data-chat-id"),r=t.attr("data-chat-fname"),u=t.attr("data-chat-lname"),f=t.attr("data-chat-status")||"online",e=t.attr("data-chat-alertmsg"),o=t.attr("data-chat-alertshow")||!1,s=$("#hdId").val();chatboxManager.addBox(i,{id:i,fromid:s,title:"username"+i,first_name:r,last_name:u,status:f,alertmsg:e,alertshow:o});n.preventDefault()}),function(n){n.widget("ui.chatbox",{options:{id:null,fromid:null,title:null,user:null,hidden:!1,offset:0,width:300,status:"online",alertmsg:null,alertshow:null,messageSent:function(n,t,i,r){this.boxManager.addMsg(t.first_name,i,r)},boxClosed:function(){},boxManager:{init:function(n){this.elem=n},addMsg:function(t,i){var u=this,s=u.elem.uiChatboxLog,r=document.createElement("div"),h,f;if(n(r).addClass("ui-chatbox-msg"),s.append(r),n(r).hide(),h=!1,t){var e=document.createElement("div"),o=document.createElement("small"),c=document.createTextNode(moment().format("LT"));o.appendChild(c);o.className="chat-date";e.className="author-name";n(e).text(t+" ");e.appendChild(o);r.appendChild(e)}else h=!0;f=document.createElement("div");t=="Me"?(f.className="chat-message",n(r).addClass("right")):(f.className="chat-message active",n(r).addClass("left"));n(f).text(i);r.appendChild(f);n(r).css("maxWidth",n(s).width());n(r).fadeIn();n(r).find("span").emoticonize();u._scrollToBottom();u.elem.uiChatboxTitlebar.hasClass("ui-state-focus")||u.highlightLock||(u.highlightLock=!0,u.highlightBox())},highlightBox:function(){var n=this;n.elem.uiChatboxTitlebar.effect("highlight",{},300);n.elem.uiChatbox.effect("bounce",{times:2},300,function(){n.highlightLock=!1;n._scrollToBottom()})},toggleBox:function(){this.elem.uiChatbox.toggle()},_scrollToBottom:function(){var n=this.elem.uiChatboxLog;n.scrollTop(n.get(0).scrollHeight)}}},toggleContent:function(){this.uiChatboxContent.toggle();this.uiChatboxContent.is(":visible")&&this.uiChatboxInputBox.focus()},widget:function(){return this.uiChatbox},_create:function(){var t=this,o=t.options,h=o.title||"No Title",r=(t.uiChatbox=n("<div><\/div>")).appendTo(document.body).addClass("ui-widget ui-chatbox").attr("outline",0).attr("fromid",o.fromid).focusin(function(){t.uiChatboxTitlebar.addClass("ui-state-focus")}).focusout(function(){t.uiChatboxTitlebar.removeClass("ui-state-focus")}),i=(t.uiChatboxTitlebar=n("<div><\/div>")).addClass("ui-widget-header ui-chatbox-titlebar "+t.options.status+" ui-dialog-header").click(function(n){t.toggleContent(n)}).appendTo(r),l=(t.uiChatboxTitle=n("<span><\/span>")).html(h).appendTo(i),u=(t.uiChatboxTitlebarClose=n('<a href="#" rel="tooltip" data-placement="top" data-original-title="Hide" title="Hide"><\/a>')).addClass("ui-chatbox-icon ").attr("role","button").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).click(function(){return r.hide(),t.options.boxClosed(t.options.id),!1}).appendTo(i),a=n("<i><\/i>").addClass("fa fa-times").appendTo(u),f=(t.uiChatboxTitlebarMinimize=n('<a href="#" rel="tooltip" data-placement="top" data-original-title="Minimize" title="Minimize"><\/a>')).addClass("ui-chatbox-icon").attr("role","button").hover(function(){f.addClass("ui-state-hover")},function(){f.removeClass("ui-state-hover")}).click(function(n){return t.toggleContent(n),!1}).appendTo(i),v=n("<i><\/i>").addClass("fa fa-minus").appendTo(f),e=(t.uiChatboxContent=n('<div class="'+t.options.alertshow+'"><span class="alert-msg">'+t.options.alertmsg+"<\/span><\/div>")).addClass("ui-widget-content ui-chatbox-content ").appendTo(r),y=(t.uiChatboxLog=t.element).addClass("ui-widget-content ui-chatbox-log custom-scroll").appendTo(e),c=(t.uiChatboxInput=n("<div><\/div>")).addClass("ui-widget-content ui-chatbox-input").click(function(){}).appendTo(e),s=(t.uiChatboxInputBox=n("<textarea><\/textarea>")).addClass("ui-widget-content ui-chatbox-input-box ").appendTo(c).keydown(function(i){if(i.keyCode&&i.keyCode==n.ui.keyCode.ENTER)return msg=n.trim(n(this).val()),msg.length>0&&t.options.messageSent(t.options.id,t.options.user,msg,t.options.fromid),n(this).val(""),!1}).focusin(function(){s.addClass("ui-chatbox-input-focus");var t=n(this).parent().prev();t.scrollTop(t.get(0).scrollHeight)}).focusout(function(){s.removeClass("ui-chatbox-input-focus")});i.find("*").add(i).disableSelection();e.children().click(function(){t.uiChatboxInputBox.focus()});t._setWidth(t.options.width);t._position(t.options.offset);t.options.boxManager.init(t);t.options.hidden||r.show();n(".ui-chatbox [rel=tooltip]").tooltip()},_setOption:function(t,i){if(i!=null)switch(t){case"hidden":i?this.uiChatbox.hide():this.uiChatbox.show();break;case"offset":this._position(i);break;case"width":this._setWidth(i)}n.Widget.prototype._setOption.apply(this,arguments)},_setWidth:function(n){this.uiChatbox.width(n+28+"px");this.uiChatboxInputBox.css("width",n+18+"px")},_position:function(n){this.uiChatbox.css("right",n)}})}(jQuery),function(n){n.fn.emoticonize=function(t){for(var o,s,l,e=n.extend({},n.fn.emoticonize.defaults,t),u=[":-)",":o)",":c)",":^)",":-D",":-(",":-9",";-)",":-P",":-p",":-Þ",":-b",":-O",":-/",":-X",":-#",":'(","B-)","8-)",";*(",":-*",":-\\","?-)",": )",": ]","= ]","= )","8 )",": }",": D","8 D","X D","x D","= D",": (",": [",": {","= (","; )","; ]","; D",": P",": p","= P","= p",": b",": Þ",": O","8 O",": /","= /",": S",": #",": X","B )",": |",": \\","= \\",": *",": &gt;",": &lt;"],f=[":)",":]","=]","=)","8)",":}",":D",":(",":[",":{","=(",";)",";]",";D",":P",":p","=P","=p",":b",":Þ",":O",":/","=/",":S",":#",":X","B)",":|",":\\","=\\",":*",":&gt;",":&lt;"],r={"&gt;:)":{cssClass:"red-emoticon small-emoticon spaced-emoticon"},"&gt;;)":{cssClass:"red-emoticon small-emoticon spaced-emoticon"},"&gt;:(":{cssClass:"red-emoticon small-emoticon spaced-emoticon"},"&gt;: )":{cssClass:"red-emoticon small-emoticon"},"&gt;; )":{cssClass:"red-emoticon small-emoticon"},"&gt;: (":{cssClass:"red-emoticon small-emoticon"},";(":{cssClass:"red-emoticon spaced-emoticon"},"&lt;3":{cssClass:"pink-emoticon counter-rotated"},O_O:{cssClass:"no-rotate"},o_o:{cssClass:"no-rotate"},"0_o":{cssClass:"no-rotate"},O_o:{cssClass:"no-rotate"},T_T:{cssClass:"no-rotate"},"^_^":{cssClass:"no-rotate"},"O:)":{cssClass:"small-emoticon spaced-emoticon"},"O: )":{cssClass:"small-emoticon"},"8D":{cssClass:"small-emoticon spaced-emoticon"},XD:{cssClass:"small-emoticon spaced-emoticon"},xD:{cssClass:"small-emoticon spaced-emoticon"},"=D":{cssClass:"small-emoticon spaced-emoticon"},"8O":{cssClass:"small-emoticon spaced-emoticon"},"[+=..]":{cssClass:"no-rotate nintendo-controller"}},h=new RegExp("(\\)|\\(|\\*|\\[|\\]|\\{|\\}|\\||\\^|\\<|\\>|\\\\|\\?|\\+|\\=|\\.)","g"),c="(^|[\\s\\0])",i=u.length-1;i>=0;--i)u[i]=u[i].replace(h,"\\$1"),u[i]=new RegExp(c+"("+u[i]+")","g");for(i=f.length-1;i>=0;--i)f[i]=f[i].replace(h,"\\$1"),f[i]=new RegExp(c+"("+f[i]+")","g");for(o in r)r[o].regexp=o.replace(h,"\\$1"),r[o].regexp=new RegExp(c+"("+r[o].regexp+")","g");return s="span.css-emoticon",e.exclude&&(s+=","+e.exclude),l=s.split(","),this.not(s).each(function(){var t=n(this),i="css-emoticon",o;e.animate&&(i+=" un-transformed-emoticon animated-emoticon");for(o in r)specialCssClass=i+" "+r[o].cssClass,t.html(t.html().replace(r[o].regexp,"$1<span class='"+specialCssClass+"'>$2<\/span>"));n(u).each(function(){t.html(t.html().replace(this,"$1<span class='"+i+"'>$2<\/span>"))});n(f).each(function(){t.html(t.html().replace(this,"$1<span class='"+i+" spaced-emoticon'>$2<\/span>"))});n.each(l,function(i,r){t.find(n.trim(r)+" span.css-emoticon").each(function(){n(this).replaceWith(n(this).text())})});e.animate&&setTimeout(function(){n(".un-transformed-emoticon").removeClass("un-transformed-emoticon")},e.delay)})};n.fn.unemoticonize=function(t){var i=n.extend({},n.fn.emoticonize.defaults,t);return this.each(function(){var t=n(this);t.find("span.css-emoticon").each(function(){var t=n(this);i.animate?(t.addClass("un-transformed-emoticon"),setTimeout(function(){t.replaceWith(t.text())},i.delay)):t.replaceWith(t.text())})})};n.fn.emoticonize.defaults={animate:!0,delay:500,exclude:"pre,code,.no-emoticons"}}(jQuery);